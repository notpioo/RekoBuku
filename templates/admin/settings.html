
{% extends "admin/base_admin.html" %}

{% block title %}Pengaturan - Admin Panel{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <div class="row mb-4">
        <div class="col">
            <h1 class="admin-page-title">Pengaturan Sistem</h1>
            <p class="admin-page-subtitle">Konfigurasi aplikasi RekoBuku</p>
        </div>
    </div>

    <div class="row">
        <!-- Maintenance Mode -->
        <div class="col-lg-6 mb-4">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-wrench me-2"></i>Mode Maintenance
                    </h5>
                </div>
                <div class="card-body">
                    <form method="POST" action="{{ url_for('admin_settings') }}">
                        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                        <div class="mb-3">
                            <p class="text-muted mb-3">Aktifkan mode maintenance untuk mencegah pengguna biasa mengakses sistem. Admin tetap dapat mengakses semua fitur.</p>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="maintenance_mode" name="maintenance_mode" {% if maintenance_status %}checked{% endif %}>
                                <label class="form-check-label" for="maintenance_mode">
                                    <strong>{% if maintenance_status %}Aktif - Sistem dalam mode maintenance{% else %}Nonaktif - Sistem berjalan normal{% endif %}</strong>
                                </label>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-{% if maintenance_status %}danger{% else %}warning{% endif %}">
                            <i class="fas fa-{% if maintenance_status %}play{% else %}pause{% endif %} me-2"></i>
                            {% if maintenance_status %}Nonaktifkan Maintenance{% else %}Aktifkan Maintenance{% endif %}
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Recommendation Settings -->
        <div class="col-lg-6 mb-4">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-star me-2"></i>Pengaturan Rekomendasi
                    </h5>
                </div>
                <div class="card-body">
                    <form method="POST" action="{{ url_for('admin_settings') }}">
                        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                        <div class="mb-3">
                            <label class="form-label">Jumlah Rekomendasi Cepat</label>
                            <select class="form-select" name="quick_count">
                                <option value="5" {% if quick_count == 5 %}selected{% endif %}>5 Buku</option>
                                <option value="7" {% if quick_count == 7 %}selected{% endif %}>7 Buku</option>
                                <option value="10" {% if quick_count == 10 %}selected{% endif %}>10 Buku</option>
                                <option value="15" {% if quick_count == 15 %}selected{% endif %}>15 Buku</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Jumlah Rekomendasi Personal</label>
                            <select class="form-select" name="personal_count">
                                <option value="5" {% if personal_count == 5 %}selected{% endif %}>5 Buku</option>
                                <option value="7" {% if personal_count == 7 %}selected{% endif %}>7 Buku</option>
                                <option value="10" {% if personal_count == 10 %}selected{% endif %}>10 Buku</option>
                                <option value="15" {% if personal_count == 15 %}selected{% endif %}>15 Buku</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-save me-2"></i>Update Rekomendasi
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

</div>
{% endblock %}
